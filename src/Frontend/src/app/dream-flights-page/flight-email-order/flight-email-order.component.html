<!-- <div> -->
<!-- [UserId], [From], [To], [DepartureDate], [ArrivalDate], [MinDaysOfStay], [MaxDaysOfStay], [OneWay] -->

<mat-card class="card">

  <mat-card-title class="title">
    Order your Dream Flight email!
  </mat-card-title>

  <br>
  <br>

  <form [formGroup]="orderForm">
    <mat-card-content>

      <h5>From:</h5>

      <mat-form-field>
        <input type="text" matInput placeholder="From" formControlName="from" [matAutocomplete]="autoFrom">
        <mat-autocomplete #autoFrom="matAutocomplete">
          <mat-option *ngFor="let option of filteredFrom | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
        <mat-error *ngIf="orderForm.get('from').hasError('required')">
          Field is required
        </mat-error>
        <mat-error *ngIf="orderForm.get('from').hasError('autocomplete')">
         Select valid location from the list
        </mat-error>
      </mat-form-field>

      <br>
      <br>
      <br>
      <h5>To:</h5>

      <mat-form-field>
        <input type="text" matInput placeholder="To" formControlName="to" [matAutocomplete]="autoTo">
        <mat-autocomplete #autoTo="matAutocomplete">
          <mat-option *ngFor="let option of filteredTo | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
        <mat-error *ngIf="orderForm.get('to').hasError('required')">
          Field is required
        </mat-error>
        <mat-error *ngIf="orderForm.get('to').hasError('autocomplete')">
          Select valid location from the list
         </mat-error>
      </mat-form-field>

      <br>
      <br>
      <br>

      <h5>Date of Departure:</h5>

      <mat-form-field class="example-full-width">
        <input matInput [matDatepicker]="DepartureDate" [min]="minDepartureDate" placeholder="Date of Departure"
          formControlName="departureDate">
        <mat-datepicker-toggle matSuffix [for]="DepartureDate">
        </mat-datepicker-toggle>
        <mat-datepicker #DepartureDate></mat-datepicker>
        <mat-error *ngIf="orderForm.get('departureDate').hasError('required')">
          Field is required
        </mat-error>
      </mat-form-field>

      <br>
      <br>
      <br>

      <h5>Date of Arrival:</h5>

      <mat-form-field class="example-full-width">
        <input matInput [matDatepicker]="ArrivalDate" [min]="minArrivalDate" placeholder="Date of Arrival"
          formControlName="arrivalDate">
        <mat-datepicker-toggle matSuffix [for]="ArrivalDate">
        </mat-datepicker-toggle>
        <mat-datepicker #ArrivalDate></mat-datepicker>
        <mat-error *ngIf="orderForm.get('arrivalDate').hasError('required')">
          Field is required
        </mat-error>
      </mat-form-field>

      <br>
      <br>
      <br>

      <h5>Length of stay:</h5>

      <mat-form-field appearance="outline" class="number-input">
        <mat-label>Min days</mat-label>
        <input type="number" matInput placeholder="Min" min="1" formControlName="minDaysOfStay">
        <mat-error *ngIf="orderForm.get('minDaysOfStay').hasError('required')">
          Field is required
        </mat-error>
        <mat-error *ngIf="orderForm.get('minDaysOfStay').hasError('min')">
          Minimum value is 1
        </mat-error>
      </mat-form-field>

      â€”

      <mat-form-field appearance="outline" class="number-input">
        <mat-label>Max days</mat-label>
        <input type="number" matInput placeholder="Max" min="1" formControlName="maxDaysOfStay">
        <mat-error *ngIf="orderForm.get('maxDaysOfStay').hasError('required')">
          Field is required
        </mat-error>
        <mat-error *ngIf="orderForm.get('maxDaysOfStay').hasError('min')">
          Minimum value is 1
        </mat-error>
      </mat-form-field>

      <br>
      <br>

    </mat-card-content>
    
    <mat-error *ngIf="this.error">
      {{this.error}}
    </mat-error>

    <mat-card-actions>
      <button class="btn btn-primary" type="submit" [disabled]="orderForm.invalid" (click)="onSubmit()"
        style="display: inline-block; margin-right: 1rem;">
        Submit
      </button>
      <div style="display: inline-grid;">
        <mat-error *ngIf="orderForm.hasError('minDays')">
          The number of Minimum days of stay is greater than the length of stay
        </mat-error>
        <mat-error *ngIf="orderForm.hasError('arrivalDate')">
          Arrival must happend after Departure
        </mat-error>
        <mat-error *ngIf="orderForm.hasError('maxDays')">
          Number of Max days has to be greater or equal Min days
        </mat-error>
      </div>
    </mat-card-actions>
  </form>

</mat-card>